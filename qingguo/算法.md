# 算法

### 登录

```java
776 util.e.a
626 LoginActivity
51 util.s 登陆模式

hashMap.put("loginId","123456");
hashMap.put("xxdm", xxdm);
hashMap.put("pwd", obj);
        hashMap.put("action", "getLoginInfoNew");
        hashMap.put("isky", "1");
        hashMap.put("sjbz", this.h);
        hashMap.put("sswl", this.i);
        hashMap.put("sjxh", "" + Build.MODEL);
        hashMap.put("os", "android");
        hashMap.put("xtbb", "" + this.f);
        hashMap.put("loginmode", b);
        hashMap.put("appver", "2.4.302");

this.g = Build.MODEL;
        this.h = PhoneMessageTools.b(this);
        this.f = VERSION.RELEASE;
        this.i = PhoneMessageTools.a(this);
        if (this.i == null) {
            this.i = "";
        }

		
pwd 123456
action getLoginInfoNew
isky 1
sjbz this.h
sswl this.i
sjxh this.g
os android
xtbb this.f
loginmode 
appver 2.4.302

this.g = Build.MODEL;
        this.h = PhoneMessageTools.b(this);
        this.f = VERSION.RELEASE;
        this.i = PhoneMessageTools.a(this);
        if (this.i == null) {
            this.i = "";
        }

public class PhoneMessageTools extends KingoActivity {
    public static String a(Context context) {
        String subscriberId;
        String str = null;
        try {
            subscriberId = ((TelephonyManager) context.getSystemService("phone")).getSubscriberId();
        } catch (Exception e) {
            subscriberId = "111111";
        }
        if (subscriberId == null) {
            str = "55555";
            subscriberId = "55555";
        } else if (subscriberId.startsWith("46000") || subscriberId.startsWith("46002")) {
            str = "46000";
        } else if (subscriberId.startsWith("46002")) {
            str = "46002";
        } else if (subscriberId.startsWith("46001")) {
            str = "46001";
        } else if (subscriberId.startsWith("46003")) {
            str = "46003";
        }
        Log.d("", "编号：" + subscriberId + "网络运营商：" + str);
        return str;
    }

    public static String b(Context context) {
        String str = "999999";
        try {
            str = ((TelephonyManager) context.getSystemService("phone")).getDeviceId();
            Log.d(str, "---------------------------------");
            return str;
        } catch (Exception e) {
            return "999999";
        }
    }
}

public static Map<String, String> a(Map<String, String> map, boolean z, Context context) {
        String c = d.c(context);
        String str = "";
        for (Entry entry : map.entrySet()) {
            String trim = ((String) entry.getKey()).trim();
            String str2 = entry.getValue() == null ? "" : (String) entry.getValue();
            com.kingosoft.activity_kb_common.ui.activity.zgjbxx.d.a(str2.length() + "");
            str = str + HttpUtils.PARAMETERS_SEPARATOR + trim + HttpUtils.EQUAL_SIGN + str2;
        }
		Map<String, String> hashMap = new HashMap();
        try {
            z.a("as_str=", str);
            hashMap.put("param", b(str, c));
            hashMap.put("param2", d(str));
            if (z) {
                hashMap.put(JThirdPlatFormInterface.KEY_TOKEN, s.a.token);
                hashMap.put("appinfo", d.b(context));
            } else {
                hashMap.put(JThirdPlatFormInterface.KEY_TOKEN, "00000");
                hashMap.put("appinfo", d.b(context));
				//android2.4.302
            }
        } catch (Exception e) {
            hashMap.put("param", "error");
            hashMap.put("param2", "error");
            if (z) {
                hashMap.put(JThirdPlatFormInterface.KEY_TOKEN, "error");
                hashMap.put("appinfo", d.b(context));
            }
        }
        return hashMap;

}

		

//c=ju8opt,str2为c
public static String b(String str, String str2) {
        if (str == null || "".equals(str) || str2 == null || "".equals(str2)) {
            return str;
        }
        String str3 = "";
        int length = str2.length();
        int length2 = str.length();
        int ceil = (int) Math.ceil((((double) length2) * 1.0d) / ((double) length));
        int ceil2 = (((int) Math.ceil((((((double) length2) * 3.0d) * 6.0d) / 9.0d) / 6.0d)) * 6) % length;
        String str4 = "";
        int i = 0;
        while (i < ceil) {
            String str5 = str4;
            for (int i2 = 1; i2 <= length; i2++) {
                int i3 = (i * length) + i2;
                String str6 = "000" + String.valueOf((Integer.valueOf(a(str.substring(i3 - 1, i3))).intValue() + Integer.valueOf(a(str2.substring(i2 - 1, i2))).intValue()) + ceil2);
                str5 = str5 + str6.substring(str6.length() - 3, str6.length());
                if (i3 == length2) {
                    break;
                }
            }
            i++;
            str4 = str5;
        }
        int i4 = 0;
        while (i4 < str4.length()) {
            i = i4 + 9;
            if (i >= str4.length()) {
                i = str4.length();
            }
            String substring = str4.substring(i4, i);
            i4 += 9;
            substring = "000000" + a(Long.valueOf(substring).longValue());
            str3 = str3 + substring.substring(substring.length() - 6, substring.length());
        }
        return str3;
    }

	public static String d(String str) throws Exception {
        String[] split = b(str).split("");
        int length = split.length;
        String str2 = "";
        int i = 0;
        while (i < length) {
            if (!(i == 3 || i == 10 || i == 17 || i == 25)) {
                str2 = str2 + split[i];
            }
            i++;
        }
        return b(str2);
    }

	


```
